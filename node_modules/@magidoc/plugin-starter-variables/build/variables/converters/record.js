function recordConverter(valueType) {
    return {
        convert: (target) => {
            if (typeof target === 'object') {
                return target;
            }
            if (typeof target === 'string') {
                const result = JSON.parse(target);
                if (typeof result !== 'object') {
                    return null;
                }
                return result;
            }
            return null;
        },
        asString: (value) => JSON.stringify(value),
        type: (z) => z.record(valueType(z).optional()).optional(),
    };
}

export { recordConverter };
//# sourceMappingURL=record.js.map
