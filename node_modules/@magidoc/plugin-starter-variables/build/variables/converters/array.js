function arrayConverter(valueType) {
    return {
        convert: (target) => {
            if (Array.isArray(target)) {
                return target;
            }
            if (typeof target === 'string') {
                const result = JSON.parse(target);
                if (!Array.isArray(result)) {
                    return null;
                }
                return result;
            }
            return null;
        },
        asString: (value) => JSON.stringify(value),
        type: (z) => z.array(valueType(z)).optional(),
    };
}

export { arrayConverter };
//# sourceMappingURL=array.js.map
