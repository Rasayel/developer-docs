import net from 'net';

function getPortAvailability(host, port) {
    return new Promise((resolves) => {
        const server = net.createServer();
        const onError = (err) => {
            server.close();
            resolves({
                available: false,
                reason: err.message,
                code: err.code,
            });
        };
        server.once('error', onError);
        server.once('timeout', onError);
        server.once('listening', () => {
            server.close();
            resolves({
                available: true,
            });
        });
        server.listen(port, host);
    });
}

export { getPortAvailability };
//# sourceMappingURL=port.js.map
