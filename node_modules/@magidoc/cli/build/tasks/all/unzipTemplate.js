import { isTemplate } from '../../template/index.js';
import { unzipTemplate } from '../../template/unzip.js';

function unzipTemplateTask(config) {
    return {
        title: `Unzip template`,
        enabled: isTemplate(config.website.template),
        executor: async (ctx, task) => {
            if (await ctx.tmpDirectory.exists()) {
                return task.skip('Template already unzipped');
            }
            await unzipTemplate({
                zipLocation: ctx.tmpArchive.path,
                destination: ctx.tmpDirectory.path,
            });
            // Cleanup the zip archive, we don't need it anymore.
            await ctx.tmpArchive.delete();
        },
    };
}

export { unzipTemplateTask };
//# sourceMappingURL=unzipTemplate.js.map
